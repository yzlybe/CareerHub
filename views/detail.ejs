<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>detail</title>

        <link rel="stylesheet" href="/static/css/detail.css" />

        <!-- axios CDN -->
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

        <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=<%= KAKAO_MAP_API_KEY %>&libraries=services"></script>

        <script src="/static/js/detail.js"></script>
        <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    </head>

    <body>
        <div name="jobs">
            <!-- <form name="detail" action="/result" method="post"> -->
            <form name="detail">
                <h1>ğŸ“• íšŒì‚¬ ë¡œê³ </h1>
                <img
                    id="resultImage"
                    src="/static/img/default.png"
                    alt="ê¸°ë³¸ í”„ë¡œí•„ ì´ë¯¸ì§€"
                    width="100"
                    height="100"
                    class="profile"
                />

                <span class="filebox">
                    <label for="img_path" class="input-file-button"
                        >íšŒì‚¬ ë¡œê³  ì—…ë¡œë“œ</label
                    >
                    <input
                        type="file"
                        id="img_path"
                        name="img_path"
                        onchange="fileUpload()"
                        style="display: none"
                    />
                </span>
                <br />

                <h1>ğŸ“— íšŒì‚¬ëª…</h1>
                <input
                    type="text"
                    name="company_name"
                    placeholder="íšŒì‚¬ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
                    class="text-input"
                    required
                />
                <br />

                <h1>ğŸ“˜ ê²½ë ¥</h1>
                <div name="form-check-label">
                    <label class="form-check-label">
                        <input
                            type="radio"
                            name="levels"
                            value="ì‹ ì…"
                            class="form-check-input"
                        />
                        ì‹ ì…
                    </label>
                    <label class="form-check-label">
                        <input
                            type="radio"
                            name="levels"
                            value="ê²½ë ¥"
                            class="form-check-input"
                        />
                        ê²½ë ¥
                    </label>
                    <label class="form-check-label">
                        <input
                            type="radio"
                            name="levels"
                            value="ë¬´ê´€"
                            class="form-check-input"
                        />
                        ê²½ë ¥ ë¬´ê´€
                    </label>
                </div>

                <h1>ğŸ‘¨â€ğŸ’» íšŒì‚¬ ì†Œê°œ</h1>
                <textarea
                    name="introduce"
                    placeholder="íšŒì‚¬ì— ëŒ€í•œ ì†Œê°œë¥¼ ì ì–´ì£¼ì„¸ìš”"
                    class="textarea-input"
                    style="resize: none"
                ></textarea>

                <h1>ğŸ“Œ ë‹´ë‹¹ ì—…ë¬´</h1>
                <textarea
                    name="task"
                    placeholder="íšŒì‚¬ì— ì…ì‚¬í•˜ë©´ ì–´ë–¤ ì¼ì„ í•˜ê²Œ ë˜ë‚˜ìš”?"
                    class="textarea-input"
                    style="resize: none"
                ></textarea>

                <h1>ğŸ“œ ìê²©ìš”ê±´</h1>
                <textarea
                    name="conditions"
                    placeholder="íšŒì‚¬ì— ì…ì‚¬í•˜ë ¤ë©´ ì–´ë–¤ ì¤€ë¹„ê°€ ë˜ì–´ìˆì–´ì•¼ í•˜ë‚˜ìš”?"
                    class="textarea-input"
                    style="resize: none"
                ></textarea>

                <h1>ğŸ‘ ìš°ëŒ€ ì‚¬í•­</h1>
                <textarea
                    name="prefer"
                    placeholder="íšŒì‚¬ì— ì…ì‚¬í•˜ëŠ”ë° ìš°ëŒ€í•˜ëŠ” ì‚¬í•­ì€ ë¬´ì—‡ì¸ê°€ìš”?"
                    class="textarea-input"
                    style="resize: none"
                ></textarea>

                <h1>ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ</h1>
                <div class="Checkbox" id="stackButtons">
                    <input
                        type="checkbox"
                        name="stack"
                        id="reactCheckbox"
                        value="React"
                        class="form-check-input"
                        style="resize: none"
                    />
                    <label
                        for="reactCheckbox"
                        class="form-check-label button-label"
                        >React</label
                    >

                    <input
                        type="checkbox"
                        name="stack"
                        id="vueCheckbox"
                        value="Vue"
                        class="form-check-input"
                    />
                    <label
                        for="vueCheckbox"
                        class="form-check-label button-label"
                        >Vue</label
                    >

                    <input
                        type="checkbox"
                        name="stack"
                        id="cssCheckbox"
                        value="CSS"
                        class="form-check-input"
                    />
                    <label
                        for="cssCheckbox"
                        class="form-check-label button-label"
                        >CSS</label
                    >

                    <input
                        type="checkbox"
                        name="stack"
                        id="angularCheckbox"
                        value="Angular"
                        class="form-check-input"
                    />
                    <label
                        for="angularCheckbox"
                        class="form-check-label button-label"
                        >Angular</label
                    >

                    <input
                        type="checkbox"
                        name="stack"
                        id="javascriptCheckbox"
                        value="JavaScript"
                        class="form-check-input"
                    />
                    <label
                        for="javascriptCheckbox"
                        class="form-check-label button-label"
                        >JavaScript</label
                    >

                    <input
                        type="checkbox"
                        name="stack"
                        id="htmlCheckbox"
                        value="HTML"
                        class="form-check-input"
                    />
                    <label
                        for="htmlCheckbox"
                        class="form-check-label button-label"
                        >HTML</label
                    >

                    <input
                        type="checkbox"
                        name="stack"
                        id="typescriptCheckbox"
                        value="TypeScript"
                        class="form-check-input"
                    />
                    <label
                        for="typescriptCheckbox"
                        class="form-check-label button-label"
                        >TypeScript</label
                    >

                    <input
                        type="checkbox"
                        name="stack"
                        id="sassCheckbox"
                        value="Sass"
                        class="form-check-input"
                    />
                    <label
                        for="sassCheckbox"
                        class="form-check-label button-label"
                        >Sass</label
                    >

                    <input
                        type="checkbox"
                        name="stack"
                        id="jsxCheckbox"
                        value="JSX"
                        class="form-check-input"
                    />
                    <label
                        for="jsxCheckbox"
                        class="form-check-label button-label"
                        >JSX</label
                    >

                    <input
                        type="checkbox"
                        name="stack"
                        id="webpackCheckbox"
                        value="Webpack"
                        class="form-check-input"
                    />
                    <label
                        for="webpackCheckbox"
                        class="form-check-label button-label"
                        >Webpack</label
                    >
                </div>

                <h1>âœ¨ íšŒì‚¬ ë³µì§€</h1>
                <textarea
                    name="welfare"
                    placeholder="ì–´ë–¤ ë³µì§€ì™€ í˜œíƒì´ ìˆë‚˜ìš”?"
                    class="textarea-input"
                    style="resize: none"
                ></textarea>

                <h1>ğŸ“… ë§ˆê°ì¼</h1>
                <input
                    type="datetime-local"
                    id="deadline"
                    name="deadline"
                    required
                />
                ê¹Œì§€

                <h1>ğŸ“ ìœ„ì¹˜</h1>

                <div
                    id="map"
                    style="width: 900px; height: 400px; margin-top: 10px"
                ></div>
                <br />
                <!-- ì£¼ì†Œ ê²€ìƒ‰ ë²„íŠ¼ -->
                <input
                    type="button"
                    class="input-file-button"
                    onclick="sample5_execDaumPostcode()"
                    value="ì£¼ì†Œ ê²€ìƒ‰"
                />
                <!-- í˜„ìœ„ì¹˜ ë²„íŠ¼ -->
                <input
                    type="button"
                    class="input-file-button"
                    onclick="getCurrentLocation()"
                    value="í˜„ìœ„ì¹˜ ì°¾ê¸°"
                /><br /><br />

                <!-- ì£¼ì†Œ ì…ë ¥ í•„ë“œ -->
                <input
                    type="text"
                    name="address"
                    id="sample5_address"
                    placeholder="í‚¤ì›Œë“œ ê²€ìƒ‰ í›„ í•´ë‹¹ ì¥ì†Œë¥¼ í´ë¦­í•˜ì‹œë©´ ì£¼ì†Œê°€ ê¸°ì…ë©ë‹ˆë‹¤"
                    class="text-input"
                    readonly
                /><br /><br />
                <!-- ìƒì„¸ ì£¼ì†Œ ì…ë ¥ í•„ë“œ -->
                <input
                    type="text"
                    name="address_detail"
                    placeholder="ìƒì„¸ ì£¼ì†Œë¥¼ ì ì–´ì£¼ì„¸ìš” (ì„ íƒ)"
                    class="text-input"
                /><br /><br />

                <h1>ğŸ“ ê³µê³  ì¶œì²˜</h1>
                <input
                    type="text"
                    name="source"
                    placeholder="ì–´ë–¤ ì‚¬ì´íŠ¸ì—ì„œ ì •ë³´ë¥¼ ë°›ì•˜ëŠ”ì§€ ì¶œì²˜ë¥¼ ê¼­ ë°í˜€ì£¼ì„¸ìš”!"
                    class="text-input"
                />

                <h1>ğŸ’¡ ê¸°íƒ€ ì¶”ê°€ ì •ë³´</h1>
                <textarea
                    name="others"
                    placeholder="íšŒì‚¬ì— ëŒ€í•œ ì¶”ê°€ ì •ë³´ í˜¹ì€ ì—¬ëŸ¬ë¶„ì˜ ììœ ë¡œìš´ ì˜ê²¬ì„ ì¨ì£¼ì„¸ìš”(ì„ íƒ)"
                    class="textarea-input"
                    style="resize: none"
                ></textarea>
                <br /><br />

                <label name="warning">
                    <input type="checkbox" name="deleteCheckbox" />
                    ìš•ì„¤ í˜¹ì€ ê±°ì§“ ì •ë³´ ë“± ë‹¤ë¥¸ ìœ ì €ë“¤ì—ê²Œ ë¶ˆì¾Œí•¨ì„ ì¤„ ìˆ˜ ìˆëŠ”
                    ê³µê³ ëŠ” ê´€ë¦¬ìì— ì˜í•´ ì‚­ì œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </label>

                <button
                    type="button"
                    class="input-file-button"
                    id="submit-button"
                    onclick="detailSubmit()"
                >
                    ì œì¶œ
                </button>
            </form>
        </div>

        <script>
            var mapContainer = document.getElementById("map"); // ì§€ë„ë¥¼ í‘œì‹œí•  div
            var mapOption = {
                center: new daum.maps.LatLng(37.537187, 127.005476), // ê¸°ë³¸ ì¤‘ì‹¬ì¢Œí‘œ
                level: 1, // ì§€ë„ì˜ í™•ëŒ€ ë ˆë²¨
            };

            // ì§€ë„ë¥¼ ë¯¸ë¦¬ ìƒì„±
            var map = new daum.maps.Map(mapContainer, mapOption);
            // ì£¼ì†Œ-ì¢Œí‘œ ë³€í™˜ ê°ì²´ë¥¼ ìƒì„±
            var geocoder = new daum.maps.services.Geocoder();
            // ë§ˆì»¤ë¥¼ ë¯¸ë¦¬ ìƒì„±
            var marker = new daum.maps.Marker({
                position: new daum.maps.LatLng(37.537187, 127.005476),
                map: map,
            });

            // í˜ì´ì§€ ë¡œë”© ì‹œ í˜„ìœ„ì¹˜ë¡œ ì§€ë„ì˜ ì¤‘ì‹¬ì„ ì´ë™í•˜ê³  ì£¼ì†Œ ì…ë ¥ í•„ë“œì— ê¸°ë³¸ê°’ ì„¤ì •
            getCurrentLocation();

            // ì£¼ì†Œ ê²€ìƒ‰ í•¨ìˆ˜
            function sample5_execDaumPostcode() {
                new daum.Postcode({
                    oncomplete: function (data) {
                        var addr = data.address; // ìµœì¢… ì£¼ì†Œ ë³€ìˆ˜

                        // ì£¼ì†Œ ì •ë³´ë¥¼ í•´ë‹¹ í•„ë“œì— ë„£ëŠ”ë‹¤.
                        document.getElementById("sample5_address").value = addr;
                        // ì£¼ì†Œë¡œ ìƒì„¸ ì •ë³´ë¥¼ ê²€ìƒ‰
                        geocoder.addressSearch(
                            data.address,
                            function (results, status) {
                                // ì •ìƒì ìœ¼ë¡œ ê²€ìƒ‰ì´ ì™„ë£Œëìœ¼ë©´
                                if (status === daum.maps.services.Status.OK) {
                                    var result = results[0]; //ì²«ë²ˆì§¸ ê²°ê³¼ì˜ ê°’ì„ í™œìš©

                                    // í•´ë‹¹ ì£¼ì†Œì— ëŒ€í•œ ì¢Œí‘œë¥¼ ë°›ì•„ì„œ
                                    var coords = new daum.maps.LatLng(
                                        result.y,
                                        result.x
                                    );
                                    // ì§€ë„ ì¤‘ì‹¬ì„ ë³€ê²½í•œë‹¤.
                                    map.setCenter(coords);
                                    // ë§ˆì»¤ë¥¼ ê²°ê³¼ê°’ìœ¼ë¡œ ë°›ì€ ìœ„ì¹˜ë¡œ ì˜®ê¸´ë‹¤.
                                    marker.setPosition(coords);
                                }
                            }
                        );
                    },
                }).open();
            }

            // í˜„ìœ„ì¹˜ ì°¾ê¸° í•¨ìˆ˜
            function getCurrentLocation() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(function (
                        position
                    ) {
                        var lat = position.coords.latitude; // ìœ„ë„
                        var lng = position.coords.longitude; // ê²½ë„

                        var currentPos = new daum.maps.LatLng(lat, lng);
                        map.setCenter(currentPos);
                        marker.setPosition(currentPos);

                        // ì£¼ì†Œë¡œ ë³€í™˜í•˜ì—¬ ì…ë ¥ í•„ë“œì— ë„£ê¸°
                        geocoder.coord2Address(
                            lng,
                            lat,
                            function (result, status) {
                                if (status === daum.maps.services.Status.OK) {
                                    var address =
                                        result[0].address.address_name;
                                    document.getElementById(
                                        "sample5_address"
                                    ).value = address;
                                }
                            }
                        );
                    });
                } else {
                    alert("í˜„ìœ„ì¹˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
                }
            }
        </script>
    </body>
</html>
