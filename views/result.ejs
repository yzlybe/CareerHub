<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>ê²°ê³¼ í˜ì´ì§€</title>

                <link rel="stylesheet" href="/static/css/detail.css" />

    </head>

    <body>
        <div name="jobs">
            <img
                id="resultImage"
                src="<%= Info && Info.img_path ? `/uploads/${Info.img_path}` : '/static/img/default.png' %>"
                alt="íšŒì‚¬ ë¡œê³ "
                width="100"
                height="100"
                class="profile"
            />
            <br />
            <p>íšŒì‚¬ëª…: <%= Info.company_name || "N/A" %></p>
            <br />

            <h1>ğŸ“˜ ê²½ë ¥</h1>
            <p>ê²½ë ¥: <%= Info.levels || "N/A" %></p>
            <br />

            <h1>ğŸ‘¨â€ğŸ’» íšŒì‚¬ ì†Œê°œ</h1>
            <p>íšŒì‚¬ ì†Œê°œ: <%= Info.introduce || "N/A" %></p>
            <br />

            <h1>ğŸ“Œ ë‹´ë‹¹ ì—…ë¬´</h1>
            <p>ë‹´ë‹¹ ì—…ë¬´: <%= Info.task || "N/A" %></p>
            <br />

            <h1>ğŸ“œ ìê²©ìš”ê±´</h1>
            <p>ìê²©ìš”ê±´: <%= Info.conditions || "N/A" %></p>
            <br />


            <h1>ğŸ‘ ìš°ëŒ€ ì‚¬í•­</h1>
            <p>ìš°ëŒ€ ì‚¬í•­: <%= Info.prefer || "N/A" %></p>
            <br />      


<h1>ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ</h1>

<% if (Info && Info.stack && Info.stack.length > 0) { %>
    <% Info.stack.forEach(function(tech) { %>
        <span class="tech-stack">
            <p><%= tech %></p>
        </span>
    <% }); %>
<% } else { %>
    <span class="tech-stack">
        <p>ê¸°ìˆ : N/A</p>
    </span>
<% } %>

            <h1>âœ¨ íšŒì‚¬ ë³µì§€</h1>
            <p>
            <p>ë³µì§€: <%= Info.welfaer || "N/A" %></p>
            </p>

            <h1>ğŸ“… ë§ˆê°ì¼</h1>
            <p>
            <p>ë³µì§€: <%= Info.deadline || "N/A" %></p>
            </p>


            <h1>ğŸ“ ìœ„ì¹˜</h1>
            <p><%= Info.address || "N/A" %><%= Info.address_detail || "N/A" %></p>
            <br />

    <!-- ì§€ë„ ì¶œë ¥ div -->
    <div id="map"></div>
    <br />



<!-- ìŠ¤í¬ë¦½íŠ¸ -->
<script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=9936a0da59fd85724aeb4306f810fe5c&libraries=services"></script>
<script>
    window.onload = function () {
        var mapContainer = document.getElementById('map'); // ì§€ë„ë¥¼ í‘œì‹œí•  div
        var mapOption = {
            center: new daum.maps.LatLng(37.537187, 127.005476), // ê¸°ë³¸ ì¤‘ì‹¬ì¢Œí‘œ
            level: 1 // ì§€ë„ì˜ í™•ëŒ€ ë ˆë²¨
        };

        // ì§€ë„ë¥¼ ë¯¸ë¦¬ ìƒì„±
        var map = new daum.maps.Map(mapContainer, mapOption);
        // ì£¼ì†Œ-ì¢Œí‘œ ë³€í™˜ ê°ì²´ë¥¼ ìƒì„±
        var geocoder = new daum.maps.services.Geocoder();
        // ë§ˆì»¤ë¥¼ ë¯¸ë¦¬ ìƒì„±
        var marker = new daum.maps.Marker({
            position: new daum.maps.LatLng(37.537187, 127.005476),
            map: map
        });

        // Get the address and details from the input form
        var address = "<%= Info.address || 'N/A' %>";
        var addressDetail = "<%= Info.address_detail || 'N/A' %>";
        var companyName = "<%= Info.company_name || 'N/A' %>";
        var imgPath = "<%= Info && Info.img_path ? `/uploads/${Info.img_path}` : '' %>";

        // Perform geocoding to get the coordinates for the provided address
        geocoder.addressSearch(address, function (results, status) {
            // If geocoding is successful
            if (status === daum.maps.services.Status.OK) {
                var result = results[0]; // Take the first result

                // Set the center of the map and move the marker to the obtained coordinates
                var coords = new daum.maps.LatLng(result.y, result.x);
                map.setCenter(coords);
                marker.setPosition(coords);

                // Check if the image path exists
                if (imgPath) {
                    // Create a custom marker image
                    var markerImage = new daum.maps.MarkerImage(imgPath, new daum.maps.Size(50, 50), {
                        offset: new daum.maps.Point(25, 25) // ë§ˆì»¤ ì´ë¯¸ì§€ì˜ ì¤‘ì‹¬ì„ ì§€ì •
                    });

                    // Set the custom marker image to the marker
                    marker.setImage(markerImage);
                }

                // Create an info window
                var infowindow = new daum.maps.InfoWindow({
                    position: coords,
                    content: '<div style="padding:5px;">' +
                        '<p>' + companyName + '</p>' +
                        '<p>' + address + '</p>' +
                        '<p>' + addressDetail + '</p>' +
                        '</div>'
                });

                // Open the info window
                infowindow.open(map, marker);
            }
        });
    };
</script>


            <h1>ğŸ“ ê³µê³  ì¶œì²˜</h1>
            <p>ê³µê³  ì¶œì²˜: <%= Info.source || "N/A" %></p>
            <br />

            <h1>ğŸ’¡ ê¸°íƒ€ ì¶”ê°€ ì •ë³´</h1>
            <p>ì¶”ê°€ ì •ë³´: <%= Info.others || "N/A" %></p>
            <br />


        </div>

        
    </body>
</html>
